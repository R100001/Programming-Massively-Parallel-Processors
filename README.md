# Programming-Massively-Parallel-Processors

## About

This repository is splitted into two sections:

- The first section found in [Chapters](Chapters) contains source code and information from the book **"Programming Massively Parallel Processors" by David B. Kirk and Wen-mei W. Hwu**.  You can find the book [here](https://www.elsevier.com/books/programming-massively-parallel-processors/kirk/978-0-12-811986-0).

- The second section found in [Performance-Tests-NvBench](Performance-Tests-NvBench) contains **benchmarks** done with the [NvBench Project](https://github.com/NVIDIA/nvbench).

---

## Preperation for the benchmarks

To use this project and run the benchmarks, you will need:

- A **NVIDIA GPU** with **CUDA** support. You can find a list of supported GPUs [here](https://developer.nvidia.com/cuda-gpus).
- The **NVIDIA CUDA Toolkit** installed on your system. You can find the latest version [here](https://developer.nvidia.com/cuda-downloads).
- The **CMAKE tool** installed on your system. You can find the latest version [here](https://cmake.org/download/).
- **Git** installed on your system. You can find the latest version [here](https://git-scm.com/downloads).
- (*Optional*) **Python** installed on your system. You can find the latest version [here](https://www.python.org/downloads/).
- (*Optional*) **Miniconda** installed on your system. You can find the latest version [here](https://docs.conda.io/en/latest/miniconda.html).

The *Optional* tools are only needed if you want to run the python script [extract_stats.py](Performance-Tests-NvBench/extract_stats.py) to generate plots from the csv files generated by the benchmarks.

---

## How to use this project

Clone this repository to your local machine:

```bash
git clone --recursive https://github.com/R100001/Programming-Massively-Parallel-Processors.git
```

Then, create a build directory and run CMAKE:

```bash
cd Performance-Tests-NvBench
mkdir build
cd build
cmake ..
```

Finally, build the project:

```bash
cmake --build .
```

This project contains ready CMAKELISTS.txt files for the benchmarks. You can change them to fit your needs.

---

## How to run the benchmarks

After building the project, you can run the benchmarks by executing the *out* files in the corresponding directories.

You can also change the source code of the benchmarks. You can see some examples [here](https://github.com/NVIDIA/nvbench/tree/main/examples).

There is a python script [extract_stats.py](Performance-Tests-NvBench/extract_stats.py) that can generate plots using the csv files generated by the benchmarks. You can generate csv files by running the benchmarks with the following command:

```bash
/path/to/benchmark/executable.out --csv /path/to/csv/file.csv
```

You can generate the results for the benchmarks in *Markdown* format using the optional argument:

```bash
/path/to/benchmark/executable.out --md /path/to/markdown/file.md
```

To run the script it is recommended to use a virtual environment. You can create one with the following commands:

```bash
conda create -n nvbench python matplotlib
conda activate nvbench
```

Then, you can run the script with the following command:

```bash
python extract_stats.py --path /path/to/csvs/directory --output /path/to/output/directory --data_to_plot x1 x2 ... xn
```
- x1 x2 ... xn are the column numbers in the csv files that you want to plot. You can find the names of the columns in the first line of the csv files.

---